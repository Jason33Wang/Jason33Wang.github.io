<!DOCTYPE html>
<html lang="zh-Hans">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="description" content="花些无聊的时间；做点有趣的事">
  <meta name="author" content="Jason">
  <meta name="keywords" content="I came,I saw,I conquered.">
  <title>Django笔记4 ~ Jason&#39;s修禅房</title>

  <link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"  >
<link rel="stylesheet" href="/lib/bootstrap/css/bootstrap.min.css"  >
<link rel="stylesheet" href="/lib/mdbootstrap/css/mdb.min.css"  >
<link rel="stylesheet" href="/lib/github-markdown/github-markdown.min.css"  >
<link rel="stylesheet" href="//at.alicdn.com/t/font_1067060_qzomjdt8bmp.css">


  <link rel="stylesheet" href="/lib/prettify/tomorrow-night-eighties.min.css"  >

<link rel="stylesheet" href="/css/main.css"  >


  <link rel="stylesheet" href="/lib/fancybox/jquery.fancybox.min.css"  >


</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Jason's修禅房</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">Home</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">Archives</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">Categories</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">Tags</a>
          </li>
        
          
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">About</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background"
         style="background: url('/img/bg0.jpg')no-repeat center center;
           background-size: cover;
           background-attachment: fixed;">
      <div class="full-bg-img">
        <div class="mask rgba-black-light flex-center">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              <br>
              
                <p class="mt-3">
                  <i class="fas fa-calendar-alt" aria-hidden="true"></i>&nbsp;
                  Wednesday, February 5th 2020, 4:26 pm
                </p>
              

              <p>
                
                  
                  &nbsp;<i class="far fa-chart-bar"></i>
                  <span class="post-count">
                    2k 字
                  </span>&nbsp;
                

                
                  
                  &nbsp;<i class="far fa-clock"></i>
                  <span class="post-count">
                      8 分钟
                  </span>&nbsp;
                

                
                  <!-- 不蒜子统计文章PV -->
                  
                  &nbsp;<i class="far fa-eye" aria-hidden="true"></i>&nbsp;
                  <span id="busuanzi_container_page_pv">
                    <span id="busuanzi_value_page_pv"></span> 次
                  </span>&nbsp;
                
              </p>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="py-5 z-depth-3" id="board">
        <div class="post-content mx-auto" id="post">
          <div class="markdown-body">
            <h1 id="day3-视图"><a href="#day3-视图" class="headerlink" title="day3 视图"></a>day3 视图</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><blockquote>
<ul>
<li><p>作用：视图接受web请求，并响应web请求</p>
</li>
<li><p>本质：视图就是一个python函数</p>
</li>
<li><p>响应：</p>
</li>
<li><p>网页</p>
<ul>
<li>重定向</li>
<li>错误视图</li>
</ul>
</li>
<li><p>json数据</p>
</li>
<li><p>过程</p>
</li>
</ul>
<p><img src="//yoursite.com/2020/02/05/django笔记4/image-20200129123737853.png" srcset="/img/loading.gif" alt="image-20200129123737853"></p>
</blockquote>
<h2 id="url配置"><a href="#url配置" class="headerlink" title="url配置"></a>url配置</h2><p>配置流程</p>
<ul>
<li><p>设置根级url配置文件</p>
<ul>
<li>设置<code>setting.py</code>文件中的<code>ROOT_URLCONF</code></li>
<li><code>ROOT_URLCONF=Progject.urls</code></li>
<li>默认实现了</li>
</ul>
</li>
<li><p>urlpatterns</p>
<ul>
<li>一个url实例的列表 </li>
<li>一个url对象包括：<ul>
<li>正则表达式</li>
<li>视图名称</li>
<li>名称</li>
</ul>
</li>
</ul>
</li>
<li><p>url匹配正则的注意事项</p>
<ul>
<li>如果想要从url中获得一个值，需要对正则加小括号</li>
<li>匹配正则前方不需要加反斜杠</li>
<li>正则前需要加<code>r</code>表示字符串不转义</li>
</ul>
</li>
<li><p>引入其他url配置</p>
<ul>
<li><p>在应用中创建<code>urls.py</code>文件，定义本应用的url配置，在工程<code>urls.py</code>文件中使用<code>include()</code>管理项目的urls文件。这样可以方便管理该项目下不同应用之间的url管理。</p>
<pre><code class="python"># 在project/urls.py 文件中
from django.conf.urls import url,include
from django.contrib import admin

urlpatterns = [
    url(r&#39;^admin/&#39;, admin.site.urls),
    url(r&#39;^&#39;, include(&#39;myApp.urls&#39;,namespace=&#39;myApp&#39;)),
]
</code></pre>
<pre><code class="python"># 在myApp/urls.py文件中添加
from django.conf.urls import url
from . import views
urlpatterns=[
    url(r&#39;^$&#39;,views.index，name=&#39;index&#39;),
]
</code></pre>
</li>
</ul>
</li>
<li><p>url的反向解析</p>
<ul>
<li>概述：如果在视图、模板中使用了硬编码链接，在url配置发生改变时，相应的url路径都需要进行修改</li>
<li>解决：在使用链接时，通过url配置的名称，动态生成url地址</li>
<li>常使用与url模板</li>
</ul>
</li>
</ul>
<h2 id="视图函数"><a href="#视图函数" class="headerlink" title="视图函数"></a>视图函数</h2><ul>
<li><p>定义视图</p>
<ul>
<li>本质：一个函数</li>
<li>视图参数：<ul>
<li>1、<code>request</code> 一个<code>HttpRequest</code>的实例 </li>
<li>2、通过正则表达式获取的参数</li>
<li>位置：一般在<code>viwes.py</code>文件中定义（官方不建议在其他文件中定义）</li>
</ul>
</li>
</ul>
</li>
<li><p>错误视图</p>
<ul>
<li><p><code>404</code>视图：<code>url</code>匹配不成功时返回该错误</p>
<ul>
<li><p>可以在<code>templates</code>目录下定义<code>404.html</code></p>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;404 error&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;找不到对应的页面&lt;/h1&gt;
    &lt;h2&gt;{{request_path}&lt;/h2&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li><code>request_path</code>：导致错误的网址</li>
</ul>
</li>
<li><p>配置<code>setting.py</code>文件</p>
<pre><code class="python">DEBUG = False #等于True，永远都不会调用404界面
ALLOWED_HOSTS = [&#39;*&#39;] #允许任何用户访问
</code></pre>
</li>
</ul>
</li>
<li><p><code>500</code>视图：在视图代码中出现错误（服务器内部错误）</p>
</li>
<li><p><code>400</code>视图：错误出现于客户操作错误</p>
</li>
</ul>
</li>
</ul>
<h2 id="HttpRequest对象"><a href="#HttpRequest对象" class="headerlink" title="HttpRequest对象"></a>HttpRequest对象</h2><p><strong>概述：</strong></p>
<ul>
<li>服务器接收http请求后，会根据报文创建<code>HttpRequest</code>对象</li>
<li>视图的第一个参数就是<code>HttpRequest</code>对象</li>
<li>django创建的，之后调用视图时传递给视图</li>
</ul>
<p><strong>属性</strong></p>
<ul>
<li><code>path</code>：请求的完整路径（不包括域名和端口）</li>
<li><code>method</code>：表示请求的额方式，常用的有<code>GET</code>、<code>POST</code></li>
<li><p><code>encoding</code>：表示浏览器提交的数据编码方式，一般为<code>utf-8</code></p>
</li>
<li><p><code>GET</code>：类似字典的对象，包含打了<code>get</code>请求的所有参数</p>
</li>
<li><p><code>Post</code>：类似字典的对象，包含打了<code>post</code>请求的所有参数</p>
</li>
<li><code>FILES</code> ：类似字典的对象，包含了所有的上传的文件</li>
<li><code>COOKIES</code>：字典，包含所有的cookie</li>
<li><code>session</code>：类似字典的对象，表示当前会话</li>
</ul>
<p><strong>方法</strong></p>
<ul>
<li><code>is_ajax()</code>:如果是通过XMLHttpRequest发起的，返回True</li>
</ul>
<p><strong>QueryDict对象</strong></p>
<ul>
<li>request对象中的GET、POST都属于QueryDict对象</li>
<li>方法：<ul>
<li><code>get()</code>：根据<code>key</code>值获取<code>value</code>值</li>
<li><code>getlist</code>：将键的值以列表的形式返回</li>
</ul>
</li>
</ul>
<p><strong>GET属性</strong></p>
<p>获取浏览器传递过来给服务器的数据</p>
<ul>
<li><pre><code class="html">http://127.0.0.1:8000/get1?a=1&amp;b=2&amp;c=3
</code></pre>
<pre><code class="python">def get1(request):
    a= request.GET.get(&#39;a&#39;)
    b= request.GET.get(&#39;b&#39;)
    c= request.GET.get(&#39;c&#39;)
    return HttpResponse(a+&quot; &quot;+b+&quot; &quot;+c)
</code></pre>
</li>
</ul>
<ul>
<li><pre><code class="html">http://127.0.0.1:8000/get2?a=1&amp;a=2&amp;c=3
</code></pre>
<pre><code class="python">def get2(request):
    a= request.GET.getlist(&#39;a&#39;)
    a1 =a[0]
    a2 =a[2]
    c= request.GET.get(&#39;c&#39;)
    return HttpResponse(a1+&quot; &quot;+a2+&quot; &quot;+c)
</code></pre>
</li>
</ul>
<p><strong>POST属性</strong></p>
<ul>
<li><p>使用表单提交post请求</p>
<pre><code class="python">def register(request):
    name = request.POST.get(&quot;name&quot;)
    gender = request.POST.get(&quot;gender&quot;)
    age =  request.POST.get(&quot;age&quot;)
    hobby =  request.POST.getlist(&quot;hobby&quot;)
    print(name,gender,age,hobby)
    return HttpResponse(&quot;注册成功&quot;)
</code></pre>
</li>
</ul>
<h2 id="HttpResponse对象"><a href="#HttpResponse对象" class="headerlink" title="HttpResponse对象"></a>HttpResponse对象</h2><p><strong>概述</strong></p>
<ul>
<li>作用：给浏览器返回数据</li>
<li><code>HttpRequest</code>是有django创建的，<code>HttpResponse</code>对象是由程序员创建的</li>
</ul>
<p><strong>返回数据用法</strong></p>
<ul>
<li><p>不调用模板，直接返回数据</p>
</li>
<li><p>调用模板</p>
<ul>
<li><p>使用<code>render</code>方法</p>
<ul>
<li><p>原型：<code>render(requesr,templateName,{context})</code></p>
</li>
<li><p>作用：结合数据和模板，返回完整的HTML界面</p>
</li>
<li><p>参数</p>
<ul>
<li><code>request</code>：请求体对象</li>
<li><code>templateName</code>：模板路径</li>
<li><code>context</code>：传递给需要渲染在模板上的数据</li>
</ul>
</li>
<li><p>实例</p>
<pre><code class="python">def studentsearch(request):
    #包含条件匹配
    # studentsList = Students.objects.filter(sname__contains=&#39;孙&#39;)
    #起始匹配
    studentsList = Students.stuObj.filter(sname__startswith=&#39;j&#39;)
    return render(request,&#39;myApp/students.html&#39;,{&quot;students&quot;:studentsList})
</code></pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>属性</strong></p>
<ul>
<li><code>content</code>：表示返回内容</li>
<li><code>charset</code>：返回数据的编码格式</li>
<li><code>status_code</code>:响应状态编码：404,200,304</li>
<li><code>content-type</code>:指定输出的MIME类型</li>
</ul>
<pre><code class="python">#查看response内容
def showresponse(request):
    res = HttpResponse()
    print(res.content)
    print(res.charset)
    print(res.status_code)
    print(res.content-type)
    return res
</code></pre>
<p><strong>方法</strong></p>
<ul>
<li><code>init</code>：使用页面内容实例化<code>HttpResponse</code>对象</li>
<li><code>write(content)</code>以文件的形式写入</li>
<li><code>flush()</code>:以文件的形式输出缓冲区</li>
<li><code>set_cookie(key,value=&#39;&#39;,max_age=None,exprise=None)</code>设置cookie</li>
<li><code>delete_cookie(key)</code><ul>
<li>删除cookie</li>
<li>注意：如果删除一个不存在的key，就当什么都没有发生</li>
</ul>
</li>
</ul>
<p><strong>子类HttpResponseRedirect</strong></p>
<ul>
<li>功能： 重定向，服务器跳转</li>
</ul>
<pre><code class="python">from django.http import HttpResponseRedirect
from django.shortcuts import redirect
def redirect1(request):
    # return  HttpResponseRedirect(&#39;/redirect2&#39;)
    return redirect(&#39;/redirect2&#39;)
def redirect2(request):
    return HttpResponse(&#39;我是重定向得到的视图&#39;)
</code></pre>
<p><strong>子类JsonResponse</strong></p>
<ul>
<li>返回json数据，一般用于异步请求</li>
<li><code>__init__(self.data)</code></li>
<li>data是一个字典对象</li>
<li>注意： Content-type类型为application/json</li>
</ul>
<h2 id="状态保持"><a href="#状态保持" class="headerlink" title="状态保持"></a>状态保持</h2><ul>
<li><p>概述</p>
<ul>
<li><p>http协议是无状态的，每次请求都是一次新的请求，不记得以前的请求</p>
</li>
<li><p>客户端与服务器的一次通信就是一次会话</p>
</li>
<li><p>实现状态的保持，在客户端或者服务端存储相关会话的数据</p>
</li>
<li><p>存储方式</p>
<ul>
<li><code>Cookie</code>：所有的数据存储在客户端，不要存敏感的数据</li>
<li><code>session</code>：所有的数据存储在服务端，在客户端用<code>Cookie</code>存储<code>session_id</code></li>
<li>在一段时间内跟踪请求者的状态，可以实现跨页面访问当前的请求者的数据</li>
<li>注意：不同的请求者之间不会共享这个数据，与请求者一一对应</li>
</ul>
</li>
<li><p>启用<code>session</code></p>
<ul>
<li>在<code>settings.py</code>文件中</li>
</ul>
<pre><code class="python"># INSTALLED_APPS选项
INSTALLED_APPS = [&#39;django.contrib.sessions&#39;]
# IDDLEWARE选项
MIDDLEWARE = [&#39;django.contrib.sessions.middleware.SessionMiddleware&#39;]
</code></pre>
</li>
<li><p>使用<code>session</code></p>
<ul>
<li>启用<code>session</code>后，每个<code>HttpRequest</code>对象都有一个<code>session</code>属性，就是一个类似字典的对象</li>
<li><code>get(key,default=None)</code>:根据键获取<code>session</code>值</li>
<li><code>clear()</code>:清空所有的会话</li>
<li><code>flush()</code>:删除当前的会话并删除会话的<code>Cookie</code></li>
</ul>
</li>
</ul>
<pre><code class="python">def main(request):
    username=request.session.get(&#39;name&#39;,&quot;游客&quot;)
    # print(username)
    return render(request,&#39;myApp/main.html&#39;,{&#39;username&#39;:username})

def login(request):
    return render(request,&#39;myApp/login.html&#39;)

def showmain(request):
    username = request.POST.get(&#39;username&#39;)
    # 存储session
    print(username)
    request.session[&#39;name&#39;]=username
    print(request.session)
    return redirect(&#39;/main&#39;)
from django.contrib.auth import logout
def quit(request):
    logout(request)
    # request.session.clear()
    # request.session.flush()
    return redirect(&#39;/main&#39;)
</code></pre>
<ul>
<li><p>设置<code>session</code>过期时间</p>
<ul>
<li><code>set_expiry(value)</code></li>
<li>如果不设置两个星期后过期</li>
<li><code>value</code>为整数（表示多少秒后过期）</li>
</ul>
<pre><code class="python">request.session.set_expiry(10)
</code></pre>
<ul>
<li><code>value</code>可以是一个时间对象</li>
<li><code>value=0</code>关闭浏览器时失效</li>
<li><code>value=None</code>永不过期</li>
</ul>
</li>
<li><p>存储session的位置</p>
<ul>
<li>数据库：默认存储数据库中<code>django.contrib.sessions.backends.db</code></li>
<li>缓存：只存储在本地内存中，如果丢失不能找回，比数据库快<code>django.contrib.sessions.backends.cache</code></li>
<li>同时缓存和数据库，优先从本地缓存中读取，读取不到再去数据库中获取：<code>django.contrib.sessions.backends.cache_db</code></li>
</ul>
</li>
<li><p>使用<code>redis</code>缓存<code>session</code></p>
<ul>
<li>首先要安装redis并开启redis服务</li>
<li><code>pip install django-redis-sessions</code></li>
</ul>
<p><code>`</code>python<br>SESSION_ENGINE=’redis_sessions.session’<br>SESSION_REDIS_HOST=’local_host’<br>SESSION_REDIS_PORT=6379<br>SESSION_REDIS_DB=0<br>SESSION_REDIS_PASSWORD=’qq123’<br>SESSION_REDIS_PREFIX=’session’</p>
</li>
</ul>
</li>
</ul>
<pre><code>#或者
   SESSION_ENGINE = &#39;redis_sessions.session&#39;
   SESSION_REDIS = {
       &#39;host&#39;: &#39;localhost&#39;,
       &#39;port&#39;: 6379,
       &#39;db&#39;: 0,
       &#39;password&#39;: &#39;password&#39;,
       &#39;prefix&#39;: &#39;session&#39;,
       &#39;socket_timeout&#39;: 1
   }
```
</code></pre><p># </p>

            <hr>
          </div>
          <br>
          <div>
            <p>
            
              <span>
                <i class="iconfont icon-inbox"></i>
                
                  <a class="hover-with-bg" href="/categories/%E5%A5%BD%E8%AE%B0%E6%80%A7%E4%B8%8D%E5%A6%82%E7%83%82%E7%AC%94%E5%A4%B4">好记性不如烂笔头</a>
                  &nbsp;
                
              </span>&nbsp;&nbsp;
            
            
              <span>
                <i class="iconfont icon-tag"></i>
                
                  <a class="hover-with-bg" href="/tags/Django">Django</a>
                
              </span>
            
            </p>
            
              <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" rel="nofollow noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
            
          </div>
        </div>
      </div>
    </div>
    <div class="d-none d-lg-block col-lg-2 toc-container">
      
  <div id="toc">
    <p class="h4"><i class="far fa-list-alt"></i>&nbsp;TOC</p>
    <div id="tocbot"></div>
  </div>

    </div>
  </div>
</div>

<!-- custom -->


<!-- Comments -->
<div class="col-lg-7 mx-auto nopadding-md">
  <div class="container comments mx-auto" id="comments">
    
  </div>
</div>

    
  </main>

  
    <a class="z-depth-1" id="scroll-top-button" href="#" role="button">
      <i class="fa fa-chevron-up scroll-top-arrow" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  <footer class="mt-5">
  <div class="text-center py-3">
    <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><b>Hexo</b></a>
    <i class="iconfont icon-love"></i>
    <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"> <b>Fluid</b></a>
    <br>

    
  
    <!-- 不蒜子统计PV -->
    
    &nbsp;<span id="busuanzi_container_site_pv">总访问量 
          <span id="busuanzi_value_site_pv"></span> 次</span>&nbsp;
  
  
    <!-- 不蒜子统计UV -->
    
    &nbsp;<span id="busuanzi_container_site_uv">总访客数 
            <span id="busuanzi_value_site_uv"></span> 人</span>&nbsp;
  
  <br>



    


    <!-- cnzz Analytics icon -->
    

  </div>
</footer>

<!-- SCRIPTS -->
<script src="/lib/jquery/jquery.min.js" ></script>
<script src="/lib/popper/popper.min.js" ></script>
<script src="/lib/bootstrap/js/bootstrap.min.js" ></script>
<script src="/lib/mdbootstrap/js/mdb.min.js" ></script>
<script src="/js/main.js" ></script>


  <script src="/js/lazyload.js" ></script>



  
    <script src="/lib/tocbot/tocbot.min.js" ></script>
  
  <script src="/js/post.js" ></script>



  <script src="/lib/smooth-scroll/smooth-scroll.min.js" ></script>



  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>


<!-- Plugins -->


  

  

  

  

  <!-- cnzz Analytics -->
  



  <script src="/lib/prettify/prettify.min.js" ></script>
  <script>
    $(document).ready(function () {
      $('pre').addClass('prettyprint  linenums');
      prettyPrint();
    })
  </script>



  <script src="/lib/typed/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Django笔记4&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script src="/lib/anchor/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "false",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      getSearchFile(path);
      this.onclick = null
    }
  </script>



  <script src="/lib/fancybox/jquery.fancybox.min.js" ></script>
  <script>
    $("#post img:not(.no-zoom img, img[no-zoom])").each(
      function () {
        var element = document.createElement("a");
        $(element).attr("data-fancybox", "images");
        $(element).attr("href", $(this).attr("src"));
        $(this).wrap(element);
      }
    );
  </script>











</body>
</html>
